[{"path":[]},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement sandra@biogis.co.za complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://macsands.github.io/templateB3/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to templateB3","title":"Contributing to templateB3","text":"outlines propose change templateB3. detailed discussion contributing tidyverse packages, please see development contributing guide code review principles.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to templateB3","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to templateB3","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See guide create great issue advice.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to templateB3","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"macSands/templateB3\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to templateB3","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://macsands.github.io/templateB3/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to templateB3","text":"Please note templateB3 project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://macsands.github.io/templateB3/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Stellenbosch University Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://macsands.github.io/templateB3/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"package maintainer. Maintainer.","code":""},{"path":"https://macsands.github.io/templateB3/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ww (2025). templateB3: Package (Title Case). R package version 0.1.0, https://macsands.github.io/templateB3, https://macsands.github.io/templateB3/, https://github.com/yourname/templateB3.","code":"@Manual{,   title = {templateB3: What the Package Does (Title Case)},   author = {Who wrote it},   year = {2025},   note = {R package version 0.1.0, https://macsands.github.io/templateB3, https://macsands.github.io/templateB3/},   url = {https://github.com/yourname/templateB3}, }"},{"path":[]},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"tutorial","dir":"","previous_headings":"","what":"Tutorial","title":"What the Package Does (Title Case)","text":"document outlines step--step workflow analyzing compositional dissimilarity bioregionalization using dissMapR. code chunks illustrate one might implement step R, using various commonly used packages (e.g., sf, terra, dplyr, ggplot2, etc.). Please note paths data, package names, exact functions may need adjustment depending local setup.","code":"# library(dissMapR) library(templateB3)  # setwd('D:\\\\Methods\\\\R\\\\myR_Packages\\\\templateB3')"},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"load-libraries","dir":"","previous_headings":"1. User-Defined Area of Interest and Grid Resolution","what":"Load libraries","title":"What the Package Does (Title Case)","text":"","code":"# Load necessary libraries library(sf)      # for vector spatial data #> Linking to GEOS 3.13.0, GDAL 3.10.1, PROJ 9.5.1; sf_use_s2() is TRUE library(terra)   # for raster/grid operations #> terra 1.8.29 library(dplyr)   # for data manipulation #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:terra': #>  #>     intersect, union #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(ggplot2) # for plotting library(tidyr) #>  #> Attaching package: 'tidyr' #> The following object is masked from 'package:terra': #>  #>     extract library(data.table) #>  #> Attaching package: 'data.table' #> The following objects are masked from 'package:dplyr': #>  #>     between, first, last #> The following object is masked from 'package:terra': #>  #>     shift library(httr) library(geodata) library(zoo) #>  #> Attaching package: 'zoo' #> The following objects are masked from 'package:data.table': #>  #>     yearmon, yearqtr #> The following object is masked from 'package:terra': #>  #>     time<- #> The following objects are masked from 'package:base': #>  #>     as.Date, as.Date.numeric"},{"path":"https://macsands.github.io/templateB3/index.html","id":"define-the-aoi-eg-using-a-shapefile-rsashp","dir":"","previous_headings":"1. User-Defined Area of Interest and Grid Resolution","what":"Define the AOI (e.g., using a shapefile ‘rsa.shp’)","title":"What the Package Does (Title Case)","text":"","code":"# Adjust the path and layer name as needed # aoi <- st_read(\"D:/Methods/R/myR_Packages/all_B3_packages/dissMapR/data/rsa.shp\") # aoi <- st_read(system.file(\"data\", \"rsa.shp\", package = \"dissMapR\")) aoi <- sf::st_read(\"D:/Methods/R/myR_Packages/templateB3/inst/extdata/rsa.shp\") #> Reading layer `rsa' from data source  #>   `D:\\Methods\\R\\myR_Packages\\templateB3\\inst\\extdata\\rsa.shp'  #>   using driver `ESRI Shapefile' #> Simple feature collection with 1 feature and 1 field #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: 16.45802 ymin: -34.83514 xmax: 32.89125 ymax: -22.12661 #> Geodetic CRS:  WGS 84 # aoi <- st_read(system.file(\"extdata\", \"rsa.shp\", package = \"dissMapR\"))"},{"path":"https://macsands.github.io/templateB3/index.html","id":"generate-grid-and-centroids-data-frame","dir":"","previous_headings":"1. User-Defined Area of Interest and Grid Resolution","what":"Generate Grid and Centroids Data Frame","title":"What the Package Does (Title Case)","text":"","code":"#### Grid Resolution (e.g., 0.5 degrees) grid_res <- 0.5  # Create blank raster template with grid_res over the AOI # Use terra::rast() and the extent (bounding box) from 'aoi' r_template <- rast(ext(aoi), resolution = grid_res, crs = st_crs(aoi)$wkt) r_template #> class       : SpatRaster  #> dimensions  : 25, 33, 1  (nrow, ncol, nlyr) #> resolution  : 0.4979767, 0.5083412  (x, y) #> extent      : 16.45802, 32.89125, -34.83514, -22.12661  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  # Convert raster cell centroids to a data frame (x = longitude, y = latitude) xy <- as.data.frame(crds(r_template)) colnames(xy) <- c(\"x\", \"y\") dim(xy) #> [1] 825   2  # Optional: clip out grid cells that fall outside the AOI boundary # Convert xy -> sf -> spatial filter xy_sf <- st_as_sf(xy, coords = c(\"x\", \"y\"), crs = st_crs(aoi), remove = FALSE) xy_aoi <- xy_sf[aoi, ]  # intersection xy <- st_drop_geometry(xy_aoi) dim(xy) #> [1] 465   2"},{"path":"https://macsands.github.io/templateB3/index.html","id":"visualise-aoi-grid-on-map","dir":"","previous_headings":"1. User-Defined Area of Interest and Grid Resolution","what":"Visualise AOI Grid on Map","title":"What the Package Does (Title Case)","text":"Outcome: - map AOI 0.5° grid cells - data frame xy containing centroid coordinates site (grid cell)","code":"# Quick visualization: AOI + centroid points ggplot() +   geom_sf(data = aoi, fill = \"lightgray\", color = \"black\") +   geom_point(data = xy, aes(x = x, y = y), color = \"blue\", size = 1) +   ggtitle(\"Area of Interest with 0.5° Grid\") +   theme_minimal()"},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"occurrence_data","dir":"","previous_headings":"2. Site-by-Species Matrix and Sampling Effort","what":"Occurrence_Data","title":"What the Package Does (Title Case)","text":"Suppose occurrence data fields: species, longitude, latitude (e.g., GBIF, local CSV, etc.).","code":"# Simulate for demonstration occ_data <- data.frame(   species = sample(c(\"SpeciesA\", \"SpeciesB\", \"SpeciesC\"), 1000, replace = TRUE),   x = runif(1000, min(st_bbox(aoi)[\"xmin\"]), max(st_bbox(aoi)[\"xmax\"])),   y  = runif(1000, min(st_bbox(aoi)[\"ymin\"]), max(st_bbox(aoi)[\"ymax\"])) )  # Assign each record to a grid cell based on coordinates: # Convert 'xy' to a raster to facilitate cell lookups r_id <- r_template values(r_id) <- 1:ncell(r_id)  # each cell gets a unique ID  # Convert occurrence data to SpatVector (terra) for cell lookups occ_vect <- vect(occ_data, geom = c(\"x\", \"y\"), crs = crs(r_template))  # Identify cell ID for each occurrence cell_ids <- cellFromXY(r_id, geom(occ_vect)[, c(\"x\", \"y\")]) occ_data$cell_id <- cell_ids dim(occ_data) #> [1] 1000    4  # Filter out occurrences that fall outside the defined AOI grid occ_data <- subset(occ_data, !is.na(cell_id)) head(occ_data) #>    species        x         y cell_id #> 1 SpeciesA 21.31359 -24.14628     109 #> 2 SpeciesA 27.62681 -34.56023     815 #> 3 SpeciesB 19.05475 -23.78736     105 #> 4 SpeciesC 28.13970 -24.33725     156 #> 5 SpeciesA 22.90552 -32.16872     640 #> 6 SpeciesC 25.08964 -29.07542     447 dim(occ_data) #> [1] 1000    4"},{"path":"https://macsands.github.io/templateB3/index.html","id":"unique-site-codes-with-coordinates","dir":"","previous_headings":"2. Site-by-Species Matrix and Sampling Effort","what":"Unique site codes with coordinates","title":"What the Package Does (Title Case)","text":"","code":"# Site coordinates # Count number of occurrences per cell as a measure of sampling effort sites_xy <- occ_data %>%   dplyr::group_by(cell_id, x, y) %>%   dplyr::summarise(effort = n(),             richness = n_distinct(species)) #> `summarise()` has grouped output by 'cell_id', 'x'. You can override using the #> `.groups` argument. names(sites_xy) = c(\"cell_id\",\"x\",\"y\",\"effort\",\"richness\") dim(sites_xy) #> [1] 1000    5 head(sites_xy) #> # A tibble: 6 × 5 #> # Groups:   cell_id, x [6] #>   cell_id     x     y effort richness #>     <dbl> <dbl> <dbl>  <int>    <int> #> 1       3  17.6 -22.3      1        1 #> 2       3  17.9 -22.4      1        1 #> 3       3  17.9 -22.2      1        1 #> 4       4  18.0 -22.4      1        1 #> 5       4  18.1 -22.4      1        1 #> 6       5  18.7 -22.5      1        1"},{"path":"https://macsands.github.io/templateB3/index.html","id":"sampling-effort","dir":"","previous_headings":"2. Site-by-Species Matrix and Sampling Effort","what":"Sampling Effort","title":"What the Package Does (Title Case)","text":"","code":"# Count number of occurrences per cell as a measure of sampling effort effort_df <- occ_data %>%   dplyr::group_by(cell_id) %>% # ,decimalLongitude,decimalLatitude   dplyr::summarise(n_occurrences = n()) dim(effort_df) #> [1] 595   2  # Rasterize sampling effort (optional for mapping) sam_eff_rast <- r_id values(sam_eff_rast) <- 0 values(sam_eff_rast)[effort_df$cell_id] <- effort_df$n_occurrences"},{"path":"https://macsands.github.io/templateB3/index.html","id":"site-by-species-matrix","dir":"","previous_headings":"2. Site-by-Species Matrix and Sampling Effort","what":"Site by Species Matrix","title":"What the Package Does (Title Case)","text":"","code":"# For presence-absence, pivot occurrence data to wide format: # occ_data = c('species', 'x', 'y', 'cell_id') sbs_long <- occ_data %>%   dplyr::distinct(cell_id, species) %>%   dplyr::mutate(presence = 1) dim(sbs_long) #> [1] 820   3  # Ensure we have a row for every cell (site) in 'xy' all_cells <- data.frame(cell_id = 1:ncell(r_id)) sbs_wide <- all_cells %>%   dplyr::left_join(sbs_long, by = \"cell_id\") %>%   tidyr::pivot_wider(id_cols = cell_id, names_from = species, values_from = presence, values_fill = 0) dim(sbs_wide) #> [1] 825   5  # sbs - site-by-species matrix sbs <- as.data.frame(sbs_wide[ , -1])  # remove cell_id column row.names(sbs) <- sbs_wide$cell_id dim(sbs) #> [1] 825   4  # Summarize sampling effort in a vector aligned with sbs rows sam.eff <- numeric(nrow(sbs)) sam.eff[effort_df$cell_id] <- effort_df$n_occurrences"},{"path":"https://macsands.github.io/templateB3/index.html","id":"optional-richness-and-sampling-effort-maps","dir":"","previous_headings":"2. Site-by-Species Matrix and Sampling Effort","what":"Optional Richness and Sampling Effort Maps","title":"What the Package Does (Title Case)","text":"Outcome: - sbs: binary presence–absence (site--species) - sam.eff: numeric sampling effort per site - Optional raster maps sampling effort species richness","code":"# Species richness map (row sums of sbs) richness <- rowSums(sbs) richness_rast <- r_id values(richness_rast) <- 0 values(richness_rast)[as.numeric(names(richness))] <- richness  # Quick plot of sampling effort + species richness plot(sam_eff_rast, main = \"Sampling Effort\") plot(richness_rast, main = \"Species Richness\")"},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"environmental-data","dir":"","previous_headings":"3. Site-by-Environment Matrix","what":"Environmental Data","title":"What the Package Does (Title Case)","text":"Assume environmental rasters (temp, precip, etc.) CRS extent","code":"# Here we just simulate them: env1 <- r_template; values(env1) <- runif(ncell(r_template), min = 10, max = 30)  # e.g., temperature env2 <- r_template; values(env2) <- runif(ncell(r_template), min = 100, max = 3000) # e.g., precipitation  # Combine into a SpatRaster env_stack <- c(env1, env2) names(env_stack) <- c(\"temp\", \"precip\") env_stack #> class       : SpatRaster  #> dimensions  : 25, 33, 2  (nrow, ncol, nlyr) #> resolution  : 0.4979767, 0.5083412  (x, y) #> extent      : 16.45802, 32.89125, -34.83514, -22.12661  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  #> source(s)   : memory #> names       :     temp,    precip  #> min values  : 10.02008,  102.5856  #> max values  : 29.97091, 2999.7811"},{"path":"https://macsands.github.io/templateB3/index.html","id":"extract-environmental-values","dir":"","previous_headings":"3. Site-by-Environment Matrix","what":"Extract Environmental Values","title":"What the Package Does (Title Case)","text":"","code":"# Extract environmental values at each site centroid env_vals <- terra::extract(env_stack, cbind(sites_xy$x, sites_xy$y)) head(env_vals) #>       temp    precip #> 1 10.42225 1892.7073 #> 2 10.42225 1892.7073 #> 3 10.42225 1892.7073 #> 4 22.49751 1798.8709 #> 5 22.49751 1798.8709 #> 6 25.87650  561.6971 # env_vals <- env_vals[ , -1]  # remove ID column returned by extract()"},{"path":"https://macsands.github.io/templateB3/index.html","id":"build-sbe","dir":"","previous_headings":"3. Site-by-Environment Matrix","what":"Build SBE","title":"What the Package Does (Title Case)","text":"Outcome: - sbe: site--environment matrix (including sampling effort) - Updated raster stack (env_stack_all) environment layers + sampling effort","code":"# Combine environment variables + sampling effort into one data frame sbe <- cbind(env_vals, sites_xy$effort)  # site-by-environment, includes sampling effort # env_vals <- cbind(sites_xy[, c(1,4,5)], env_vals) dim(sbe) #> [1] 1000    3 # colnames(sbe) <- c(\"temp\", \"precip\", \"sam.eff\")  # We'll also update the env_stack to include sampling effort if desired sam_eff_raster <- sam_eff_rast names(sam_eff_raster) <- \"sam.eff\" env_stack_all <- c(env_stack, sam_eff_raster) env_stack_all #> class       : SpatRaster  #> dimensions  : 25, 33, 3  (nrow, ncol, nlyr) #> resolution  : 0.4979767, 0.5083412  (x, y) #> extent      : 16.45802, 32.89125, -34.83514, -22.12661  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  #> source(s)   : memory #> names       :     temp,    precip, sam.eff  #> min values  : 10.02008,  102.5856,       0  #> max values  : 29.97091, 2999.7811,       5"},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"zeta-decline","dir":"","previous_headings":"4. Zeta Decline and Zeta Decay","what":"Zeta Decline","title":"What the Package Does (Title Case)","text":"’ll assume dissMapR zetadiv provides functions multi-site zeta.","code":"# For example, using the 'zetadiv' package: # library(zetadiv) #  # # sbs must be a site-by-species matrix (rows=sites, columns=species) # zeta_orders <- 1:5 #  # # Run `Zeta.decline.ex` # zeta.decline <- Zeta.decline.ex(sbs[,-3], #                                 orders = zeta_orders, #                                 plot = FALSE) #  # # Plot zeta decline # plot(zeta_orders, #      zeta.decline$zeta.val, #      type = \"b\", #      xlab = \"Order\", ylab = \"Mean Zeta Diversity\", #      main = \"Zeta Decline\")"},{"path":"https://macsands.github.io/templateB3/index.html","id":"zeta-decay","dir":"","previous_headings":"4. Zeta Decline and Zeta Decay","what":"Zeta Decay","title":"What the Package Does (Title Case)","text":"Evaluate zeta diversity changes distance Outcome: - Measures zeta decline across orders - Measures zeta decay distance - Plots illustrating relationships","code":"dim(sbs[,-3]) #> [1] 825   3 dim(sites_xy) #> [1] 1000    5  # zeta.decay <- Zeta.ddecay( #   data.spec   = sbs[,-3],          # species presence-absence matrix #   # xy          = cbind(xy_sf$x,xy_sf$y),# site coordinates #   xy          = cbind(sites_xy$x,sites_xy$y),# site coordinates #   order       = 2,            # zeta order of interest (e.g., 2) #   method      = \"mean\",       # or \"sum\" #   sam         = 100,           # number of distance bins (or set distances manually) #   plot        = FALSE         # set to TRUE to auto-plot # )  # The returned object contains distance bins (or pairs of sites, etc.) and # average zeta diversity for each distance bin.  # Plot the result: # Plot.zeta.ddecay(zeta.decay)  # Multiple-Order Distance Decay Example # If you want to see how zeta distance-decay behaves across multiple orders, # you can use Zeta.ddecays():  # zeta.decays <- Zeta.ddecays( #   data.spec   = sbs[,-3], #   xy          = cbind(sites_xy$x,sites_xy$y), #   orders      = zeta_orders,       # or pick any vector of orders #   method      = \"mean\", #   sam         = 1000, #   plot        = FALSE # )  # Then visualize: # Plot.zeta.ddecays(zeta.decays)"},{"path":[]},{"path":"https://macsands.github.io/templateB3/index.html","id":"fit-multisite-gdm","dir":"","previous_headings":"5. MS-GDM with Zeta.msgdm(sbs, sbe, xy)","what":"Fit MultiSite GDM","title":"What the Package Does (Title Case)","text":"now assume dissMapR function Zeta.msgdm() multi-site GDM (hypothetical; adapt based actual package usage) Outcome: - zeta2: fitted MS-GDM order 2 - Additional model objects orders 3, 5, 10","code":"# Fit MS-GDM for orders = 2, 3, 5, 10 orders_to_fit <- c(2, 3, 5, 10) dim(sbs[,-3]) #> [1] 825   3 dim(sbe) #> [1] 1000    3 dim(sites_xy) #> [1] 1000    5 # fit <- Zeta.msgdm(sbs[,-3], #                   sbe, #                   sites_xy[,2:3], #                   order = orders_to_fit, #                   reg.type = 'ispline', #                   sam = 100)  # Summaries or model stats # summary(fit$model)  # dev.new() # graphics::plot(fit$model)"},{"path":"https://macsands.github.io/templateB3/index.html","id":"id_6-prediction-with-zeta2-present-scenario","dir":"","previous_headings":"","what":"6. Prediction with zeta2 (Present Scenario)","title":"What the Package Does (Title Case)","text":"Outcome: - zeta.now: predicted site--site dissimilarity matrix uniform sampling - NMDS-based RGB map - Bioregional clusters (e.g., 5 clusters)","code":"# # Uniform Sampling # # Replace sampling effort in 'sbe' with its maximum value # sam.max <- max(sbe$sam.eff) # sbe_now <- sbe # sbe_now$sam.eff <- sam.max #  # # Predict zeta2 # zeta.now <- predict(zeta2, newdata = sbe_now) # # zeta.now should be a site-by-site matrix of predicted dissimilarities (order=2) #  # # Visualize zeta_now # # (i) NMDS # library(vegan) # nmds_now <- metaMDS(zeta.now, k = 3, try = 20) #  # # Extract NMDS coordinates # nmds_coords <- as.data.frame(scores(nmds_now)) # colnames(nmds_coords) <- c(\"NMDS1\", \"NMDS2\", \"NMDS3\") #  # # (ii) RGB composite plot from NMDS axes # # Combine NMDS coords with site centroids 'xy' # nmds_plot_df <- cbind(xy, nmds_coords) #  # ggplot(nmds_plot_df, aes(x = x, y = y)) + #   geom_point(aes(color = rgb( #     scales::rescale(NMDS1), #     scales::rescale(NMDS2), #     scales::rescale(NMDS3) #   )), size = 2) + #   scale_color_identity() + #   ggtitle(\"Present Scenario: NMDS RGB Composite\") + #   theme_minimal() #  # # (iii) Clustering + Bioregions # # Example: hierarchical clustering # hc_now <- hclust(as.dist(zeta.now), method = \"ward.D2\") # # Choose number of clusters # k <- 5 # bioregions_now <- cutree(hc_now, k = k)"},{"path":"https://macsands.github.io/templateB3/index.html","id":"id_7-prediction-with-zeta2-future-scenarios","dir":"","previous_headings":"","what":"7. Prediction with zeta2 (Future Scenarios)","title":"What the Package Does (Title Case)","text":"Outcome: - zeta.future: site--site predicted dissimilarities present + multiple future scenarios - Tools NMDS/clustering map future shifts bioregions","code":"# Prepare Future Env # # Suppose we have m future scenarios for environment (temp, precip). # # We'll combine them so that all scenarios + present are in one large sbe data frame. #  # # Create a placeholder example for 2 future scenarios # env1_future1 <- env1; values(env1_future1) <- values(env1_future1) + 2 # env2_future1 <- env2; values(env2_future1) <- values(env2_future1) + 100 #  # env1_future2 <- env1; values(env1_future2) <- values(env1_future2) + 4 # env2_future2 <- env2; values(env2_future2) <- values(env2_future2) + 200 #  # # Extract for each scenario # env_vals_future1 <- extract(c(env1_future1, env2_future1), cbind(xy$x, xy$y))[, -1] # env_vals_future2 <- extract(c(env1_future2, env2_future2), cbind(xy$x, xy$y))[, -1] #  # # Combine into data frames, reusing sam.max # sbe_future1 <- cbind(env_vals_future1, sam.eff = sam.max) # colnames(sbe_future1) <- c(\"temp\", \"precip\", \"sam.eff\") #  # sbe_future2 <- cbind(env_vals_future2, sam.eff = sam.max) # colnames(sbe_future2) <- c(\"temp\", \"precip\", \"sam.eff\") #  # # Combine present (sbe_now) + 2 future scenarios: # sbe_all <- rbind(sbe_now, sbe_future1, sbe_future2) #  # # Predict Future # zeta.future <- predict(zeta2, newdata = sbe_all) # # This will be a ((m+1)*n x (m+1)*n) dissimilarity matrix # # where m=2 (two future scenarios), n=number of sites #  # # Visualize Future # # We can subset 'zeta.future' to map each scenario individually # # For example, the first 'n' rows/cols = present, next 'n' = future1, last 'n' = future2 # n_sites <- nrow(sbe_now) # present_idx   <- 1:n_sites # future1_idx   <- (n_sites+1):(2*n_sites) # future2_idx   <- (2*n_sites+1):(3*n_sites) #  # zeta.present  <- zeta.future[present_idx, present_idx] # zeta.fut1     <- zeta.future[future1_idx, future1_idx] # zeta.fut2     <- zeta.future[future2_idx, future2_idx] #  # # Optionally run NMDS or clustering for each scenario # # Here, just an example with future scenario 1 # nmds_fut1 <- metaMDS(zeta.fut1, k = 3, try = 20) # nmds_coords_fut1 <- as.data.frame(scores(nmds_fut1)) # # (Plot similarly as above, but note the site order matches rows in future1_idx)"},{"path":"https://macsands.github.io/templateB3/index.html","id":"id_8-data-publication-to-zenodo","dir":"","previous_headings":"","what":"8. Data Publication to Zenodo","title":"What the Package Does (Title Case)","text":"Outcome: - necessary data (e.g., sbs, xy, sbe, zeta.now, zeta.future, figures) archived Zenodo reproducibility.","code":"# Prepare Outputs # Collect your final data frames and raster objects: #   - sbs, xy, sbe, zeta.now, zeta.future, etc. #   - Maps (sampling effort, zeta plots, NMDS RGB maps, cluster results) #   - Model objects (zeta2, etc.)  # # Save them to disk as CSV, RDS, GeoTIFF, etc. # saveRDS(sbs, \"sbs.rds\") # saveRDS(xy, \"xy.rds\") # saveRDS(sbe, \"sbe.rds\") # saveRDS(zeta.now, \"zeta_now.rds\") # saveRDS(zeta.future, \"zeta_future.rds\") # # ... etc. #  # # Zenodo Upload # # Use zen4R or manual upload: # # install.packages(\"zen4R\") # library(zen4R) #  # # Provide your Zenodo token, metadata, etc. # zenodo <- ZenodoManager$new(token = \"YOUR_ZENODO_TOKEN\") #  # # Create a new deposition, set metadata # my_deposition <- zenodo$createEmptyRecord() # my_deposition <- zenodo$setMetadata( #   my_deposition, #   title = \"Multi-Site Dissimilarity Data & Models\", #   upload_type = \"dataset\", #   description = \"Data and model outputs from the dissMapR workflow.\", #   creators = list( #     list(name = \"Your Name\", affiliation = \"Your Institution\") #   ) # )  # Then upload files: # zenodo$uploadFile(\"sbs.rds\", my_deposition$id) # zenodo$uploadFile(\"sbe.rds\", my_deposition$id) # etc.  # Finally, publish: # zenodo$publishRecord(my_deposition$id)"},{"path":"https://macsands.github.io/templateB3/index.html","id":"draft-notes-from-cangh","dir":"","previous_headings":"8. Data Publication to Zenodo","what":"Draft notes from CangH:","title":"What the Package Does (Title Case)","text":"Dissimilarity workflow 1. User-defined area interest grid resolution (incl. rsa shape file, 0.5 degree), generate map AOI data frame ‘xy’ site centroids. 2. Site species matrix sampling effort (incl. access occurrences user-specified taxon species list, assign records grids, generate raster occurrence counts called sampling effort), generate binary data frame ‘sbs’, richness map sbs row sums, single variable data frame sampling effort ‘sam.eff’ raster map. Note, occurrence coordinates used assigning grids; needed beyond step. 3. Site environment matrix; extract environmental variables site centroids ‘xy’ stack raster data frame ‘sbe’; add ‘sam.eff’ stack raster sbe. 4. Zeta decline (sbs) zeta decay (sbs, xy), orders 2:15. Generate statistics figures, maps. 5. Zeta.msgdm(sbs, sbe, xy), order 2, 3, 5, 10. Generate statistics figures, maps. Save fitted order 2 model ‘zeta2’. 6. Predict(zeta2) ‘sam.eff’ ‘sbe’ replaced ‘sam.max’ constant sites = max(sam.eff). Predict updated sbe xy produce site site matrix predicted zeta ‘zeta.now’. Run nmds predicted zeta matrix plot RGB 3 component scores. Clustering analyses directly using zeta.now. Generate main maps dissimilarity (rgb plot) bioregions (clustering). 7. Predict(zeta2) appended (future scenarios) environmental variables ‘sam.max’ sbe. m number scenarios plus present scenario (step6) n sites xy, updated sbe.future k = (m+1) x n number rows. ‘xy’ also updated k rows. Predict k k matrix predicted zeta ‘zeta.future’. Nmds clustering zeta.future, map sub matrices indicate predicted future dissimilarity, bioregions, temporal turnover. Note, step6 redundant step7 needed; step7 code results including step6 potentially computational demanding. 8. Deposit data frames, tables, maps, standard metadata zenodo","code":""},{"path":"https://macsands.github.io/templateB3/reference/hello.html","id":null,"dir":"Reference","previous_headings":"","what":"Hello — hello","title":"Hello — hello","text":"Prints greeting message.","code":""},{"path":"https://macsands.github.io/templateB3/reference/hello.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hello — hello","text":"","code":"hello(name = \"World\")"},{"path":"https://macsands.github.io/templateB3/reference/hello.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hello — hello","text":"name character string; defaults \"World\".","code":""},{"path":"https://macsands.github.io/templateB3/reference/hello.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hello — hello","text":"Prints greeting message.","code":""},{"path":"https://macsands.github.io/templateB3/news/index.html","id":"templateb3-010","dir":"Changelog","previous_headings":"","what":"templateB3 0.1.0","title":"templateB3 0.1.0","text":"Initial CRAN submission.","code":""}]
